<div class="tour-detail" *ngIf="tour; else loading">
  <h2>{{ tour.name }}</h2>
  <p><strong>Helyszín:</strong> {{ tour.location }}</p>
  <p><strong>Időpont:</strong> {{ tour.date.toDate() | date:'mediumDate' }}</p>
  <p><strong>Ár:</strong> {{ tour.price | currency:'HUF' }}</p>
  <p><strong>Leírás:</strong> {{ tour.description }}</p>
  <p><strong>Időtartam:</strong> {{ tour.duration }} óra</p>
  <p><strong>Nehézség:</strong> {{ tour.difficulty }}</p>
  <p><strong>Max. résztvevők:</strong> {{ tour.maxParticipants }}</p>
  <p *ngIf="guide">
    Túravezető: <strong>{{ guide.name }}</strong>
  </p>


  <!-- Gomb logika -->
  <ng-container *ngIf="isLoggedIn; else needLogin">
    <button *ngIf="bookingStatus !== 'confirmed'; else cancelTpl"
            (click)="onSubscribe()">
      Jelentkezem
    </button>
    <ng-template #cancelTpl>
      <button class="cancel-btn" (click)="onCancel()">
        Jelentkezés törlése
      </button>
    </ng-template>
  </ng-container>
  <ng-template #needLogin>
    <p>Kérlek, jelentkezz be a foglaláshoz.</p>
  </ng-template>
</div>

<ng-template #loading>
  <p>Betöltés...</p>
</ng-template>
